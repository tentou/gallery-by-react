{"version":3,"sources":["Main.js"],"names":[],"mappings":"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","file":"Main-compiled.js","sourcesContent":["require('normalize.css/normalize.css');\r\nrequire('styles/App.css');\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nvar imageDatas = require('../data/imageData.json');\r\n\r\n//取区间值方法\r\nvar getRangeRandom = (low, high) => Math.floor(Math.random() * (high - low) + low);   //这个以后可以通用\r\n//获取0~30°之间的一个任意正负值\r\nvar get30DegRandom = () => (Math.random() > 0.5 ? '' : '-') + Math.floor(Math.random() * 30);\r\nimageDatas = (function (imagesNum) {\r\n  for (var i = imagesNum.length; i--;) {\r\n    var imageInfo = imagesNum[i];\r\n    imageInfo.imageUrl = require('../images/' + imageInfo.fileName);   //给当前对象赋值添加imageName属性\r\n    imagesNum[i] = imageInfo;   //重新定义json数据的对象，分别给加了一个imageUrl属性\r\n  }\r\n  return imagesNum;\r\n})(imageDatas);\r\n\r\nclass ImgFigure extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleClick = this.handleClick.bind(this);   //这句我没有搞懂--好像是下边娶不到ImgFigure是第几个，所以需要绑定一下\r\n  }\r\n  handleClick(e) {\r\n    if(this.props.arrange.isCenter) {\r\n      this.props.inverse();\r\n    } else {\r\n      this.props.center();\r\n    }\r\n\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    //初始化最开始的位置\r\n    var styleObj = {};\r\n\r\n    //通过props属性得到给分配到的 this.state.imgsArrangeArr[i] = arrange\r\n    if(this.props.arrange.pos) {\r\n      styleObj = this.props.arrange.pos;\r\n    }\r\n    if(this.props.arrange.rotate) {\r\n      (['MozTransform', 'msTransform', 'WebkitTransform', 'transform']).forEach((value) => {\r\n        styleObj[value] = 'rotate(' + this.props.arrange.rotate + 'deg)';\r\n      })\r\n    }\r\n    if(this.props.arrange.isCenter) {\r\n      styleObj.zIndex = 11;\r\n    }\r\n    let imgFigureClassName = 'img-figure';\r\n    imgFigureClassName += this.props.arrange.isInverse ? ' is-inverse' : '';\r\n\r\n    return (\r\n      <figure className={ imgFigureClassName } style={styleObj} onClick={this.handleClick}>   {/*这个style可以直接是一个对象*/}\r\n        <img src={this.props.data.imageUrl}\r\n             alt={this.props.data.title}/>\r\n        <figcaption>\r\n          <h2 className=\"img-title\">{this.props.data.title}\r\n          </h2>\r\n          <div className=\"img-back\" onClick={this.handleClick}>  {/*正反两面*/}\r\n            <p>\r\n              {this.props.data.desc}\r\n            </p>\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n    )\r\n  }\r\n}\r\n\r\n//大管家-操作都在这里\r\nclass AppComponent extends React.Component {\r\n  //设置模型\r\n  constructor(props) {\r\n    super(props);   //引用超类的constructor属性，因为这个是扩展，所以必须要写上这个\r\n\r\n    //整体范围模型\r\n    this.Constant = {\r\n      centerPos: {\r\n        left: 0,\r\n        right: 0\r\n      },\r\n      //水平方向的取值范围\r\n      hPosRange: {\r\n        leftSecX: [0, 0],\r\n        rightSecX: [0, 0],\r\n        y: [0, 0]\r\n      },\r\n      //垂直方向的取值范围\r\n      vPosRange: {\r\n        x: [0, 0],\r\n        topY: [0, 0]\r\n      }\r\n    };\r\n\r\n    //初始状态state 代替以前的getInitialState\r\n    this.state = {\r\n      imgsArrangeArr:[\r\n\r\n        //形如下边这样\r\n        //   {\r\n        //   pos:{\r\n        //     left:'0',\r\n        //     top:'0'\r\n        //   },\r\n        //  rotate:'0',\r\n        //  isInverse: false,  //图片正反面\r\n        //  isCenter: false //图片是否居中\r\n        // }\r\n      ]\r\n    }\r\n  }\r\n\r\n  inverse(index) {\r\n    return () => {\r\n      let imgsArrangeArr = this.state.imgsArrangeArr;\r\n\r\n      imgsArrangeArr[index].isInverse = !imgsArrangeArr[index].isInverse;\r\n      this.setState({\r\n        imgsArrangeArr: imgsArrangeArr\r\n      })\r\n    };\r\n  }\r\n\r\n  // 页面加载后计算好位置\r\n  componentDidMount(){\r\n\r\n    // 首先拿到舞台大小\r\n    var stageDom = ReactDOM.findDOMNode(this.refs.stage),\r\n      stageW = stageDom.scrollWidth,\r\n      stageH = stageDom.scrollHeight,\r\n      halfStageW = Math.floor(stageW / 2),\r\n      halfStageH = Math.floor(stageH / 2);\r\n\r\n    // 拿到每张图的大小\r\n    var imgFigureDOM = ReactDOM.findDOMNode(this.refs.imgFigure0),\r\n        imgW = imgFigureDOM.scrollWidth,\r\n        imgH = imgFigureDOM.scrollHeight,\r\n        halfImgW = Math.floor(imgW / 2),\r\n        halfImgH = Math.floor(imgH / 2);\r\n\r\n    // 页面加载后 中间图片 的位置\r\n    this.Constant.centerPos = {\r\n      left: halfStageW - halfImgW,\r\n      top: halfStageH - halfImgH\r\n    };\r\n    //计算左侧右侧图片区域排布位置的取值范围--极限值\r\n    this.Constant.hPosRange.leftSecX[0] = -halfImgW;\r\n    this.Constant.hPosRange.leftSecX[1] = halfStageW - halfImgW * 3;\r\n\r\n    this.Constant.hPosRange.rightSecX[0] = halfStageW + halfImgW;\r\n    this.Constant.hPosRange.rightSecX[1] = stageW - halfImgW;\r\n\r\n    this.Constant.hPosRange.y[0] = -halfImgH;\r\n    this.Constant.hPosRange.y[1] = stageH - halfImgH;\r\n\r\n    //计算垂直排布位置的取值范围--极限值\r\n    this.Constant.vPosRange.topY[0] = -halfImgH;\r\n    this.Constant.vPosRange.topY[1] = halfStageH - halfImgH * 3;\r\n\r\n    this.Constant.vPosRange.x[0] = halfImgW - imgW;\r\n    this.Constant.vPosRange.x[1] = halfImgW;\r\n\r\n    this.rearrange(0);      //全部绑定到this上\r\n    //上边的都是极限值\r\n    // let num = Math.floor(Math.random() * 10);\r\n    // // this.rearrange(num);\r\n    // this.rearrange(num);\r\n  }\r\n\r\n  rearrange(centerIndex){\r\n    //重新排布图片\r\n\r\n    //先取到图片坐标数组\r\n    var imgsArrangeArr = this.state.imgsArrangeArr,\r\n      Constant = this.Constant,\r\n      centerPos = Constant.centerPos,\r\n      hPosRange = Constant.hPosRange,\r\n      vPosRange = Constant.vPosRange,\r\n      hPosRangeLeftSecX = hPosRange.leftSecX,\r\n      hPosRangeRightSecX = hPosRange.rightSecX,\r\n      hPosRangeY = hPosRange.y,\r\n      vPosRangeTopY = vPosRange.topY,\r\n      vPosRangeX = vPosRange.x,\r\n      imgsArrangeTopArr = [],       //存储上部图片信息\r\n      topImgNum = Math.floor(Math.random() * 2),  //取0个或者1个随机\r\n      topImgSpliceIndex = 0,                  //给上边图像做一个标记，看是从数组的哪个位置取出来的\r\n      imgsArrangeCenterArr  = imgsArrangeArr.splice(centerIndex, 1);    //取出那个居中的值的数据，返回被提取出来的这个中心图片的信息\r\n\r\n    //首先居中 centerIndex 的图片\r\n    imgsArrangeCenterArr[0] = {\r\n      pos: centerPos,\r\n      //rotate:'0',\r\n      isCenter: true\r\n    }\r\n\r\n    //取出要布局上侧的图片的状态信息\r\n    topImgSpliceIndex = Math.floor(Math.random() * (imgsArrangeArr.length - topImgNum));\r\n    imgsArrangeTopArr = imgsArrangeArr.splice(topImgSpliceIndex, topImgNum);\r\n\r\n      //布局位于上侧的图片\r\n    imgsArrangeTopArr.forEach(function(value, index) {        //遍历上边取出的几张图片--分别给他们设置坐标\r\n      imgsArrangeTopArr[index] = {\r\n        pos: {\r\n          top: getRangeRandom(vPosRangeTopY[0], vPosRangeTopY[1]),      //getRangeRandom这个在上边我们定义一个方法，来随机去除一个值的方法\r\n          left: getRangeRandom(vPosRangeX[0], vPosRangeX[1])\r\n        },\r\n        rotate: get30DegRandom(),\r\n        isCenter: false\r\n\r\n      };\r\n    });\r\n\r\n    //布局左右两侧的图片\r\n    for(var i = 0, j = imgsArrangeArr.length, k = j / 2; i < j; i ++) {    //主要为了分两半，小于i<k的是左侧 i>k的是右侧\r\n      let hPosRangeLORX = null;\r\n      //前半部分布局左边,右半部分布局右边\r\n      if(i < k) {\r\n        hPosRangeLORX = hPosRangeLeftSecX;    //这是一个x区间数组\r\n      } else {\r\n        hPosRangeLORX = hPosRangeRightSecX;   //这是一个x区间数组\r\n      }\r\n\r\n      imgsArrangeArr[i] = {\r\n        pos: {\r\n          top: getRangeRandom(hPosRangeY[0], hPosRangeY[1]),\r\n          left: getRangeRandom(hPosRangeLORX[0], hPosRangeLORX[1])\r\n        },\r\n        rotate: get30DegRandom(),\r\n        isCenter: false\r\n      }\r\n    }\r\n\r\n    //因为下一次点击的话 还是要从新计算，所以还要将imgsArrangeArr 恢复回去\r\n    if(imgsArrangeTopArr && imgsArrangeTopArr[0]) {     //假如上部取到值了\r\n\r\n      //将上边图片插回去\r\n      imgsArrangeArr.splice(topImgSpliceIndex, 0, imgsArrangeTopArr[0]);\r\n    }\r\n\r\n    //将中间图像插回去\r\n    imgsArrangeArr.splice(centerIndex, 0, imgsArrangeCenterArr[0]);\r\n\r\n    //触发重新渲染---★\r\n    this.setState({\r\n      imgsArrangeArr: imgsArrangeArr\r\n    });\r\n\r\n  }\r\n\r\n  center(index) {\r\n    return () => {\r\n      this.rearrange(index);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var controllerUnits = [],\r\n      imgFigures = [];  //放列表的数组\r\n    imageDatas.forEach(function (value, i) {\r\n      if(!this.state.imgsArrangeArr[i]){    //如果当前土坯那没有初始位置则给他个初始位置\r\n        this.state.imgsArrangeArr[i] = {\r\n          pos: {\r\n            left: 0,\r\n            top: 0\r\n          },\r\n          rotate: 0,\r\n          isInverse: false,\r\n          isCenter: false //图片是否居中\r\n        }\r\n      }\r\n      imgFigures.push(<ImgFigure key={i} data={value} ref={'imgFigure'+i} arrange={this.state.imgsArrangeArr[i]} inverse={this.inverse(i)} center={this.center(i)} />);  // 这个arrange带有每张图片的状态信息\r\n      //console.log(value.imageUrl)\r\n    }.bind(this));\r\n\r\n    return (\r\n      <section className=\"stage\" ref=\"stage\">\r\n        <section className=\"img-sec\">\r\n          {imgFigures}\r\n        </section>\r\n        <nav className=\"controller-nav\">\r\n\r\n        </nav>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nAppComponent.defaultProps = {};\r\n\r\nexport {AppComponent};\r\n"]}